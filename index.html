<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ðŸ’– Pookieâ€™s Lovely Moments ðŸ’–</title>
  <meta name="theme-color" content="#ff9ecd" />
  <style>
    :root {
      --pink:#ff9ecd;--light-pink:#ffd5ec;--purple:#c084fc;--deep-pink:#f472b6;
      --bg:#fff0f6;--text:#4a154b;--card-bg:#fff7fb;
      --shadow:0 10px 25px rgba(255,150,200,.25);--radius:20px;
    }
    *{box-sizing:border-box;}
    body{margin:0;font-family:Poppins,sans-serif;background:radial-gradient(circle at top left,var(--light-pink),var(--bg));color:var(--text);min-height:100vh;}
    header{background:linear-gradient(90deg,var(--pink),var(--purple));padding:1rem 2rem;display:flex;align-items:center;justify-content:center;color:white;box-shadow:var(--shadow);}
    main{display:flex;flex-direction:column;gap:1.5rem;padding:1.5rem;max-width:900px;margin:0 auto;}
    .card{background:var(--card-bg);border-radius:var(--radius);padding:1.2rem;box-shadow:var(--shadow);}
    input,textarea,select,button{width:100%;padding:.8rem 1rem;border-radius:12px;border:1px solid var(--light-pink);font-family:inherit;font-size:1rem;outline:none;transition:.2s;}
    input:focus,textarea:focus,select:focus{border-color:var(--pink);box-shadow:0 0 6px var(--pink);}
    button{background:linear-gradient(90deg,var(--pink),var(--deep-pink));border:none;color:white;font-weight:600;cursor:pointer;transition:transform .2s;}
    button:hover{transform:scale(1.05);}
    .entries{display:flex;flex-direction:column;gap:1rem;}
    .entry{background:white;border-radius:16px;padding:1rem;box-shadow:0 4px 15px rgba(255,182,193,.3);}
    .entry h4{margin:0 0 .4rem;color:var(--deep-pink);}
    .entry p{margin:0;white-space:pre-wrap;}
    .footer{text-align:center;color:var(--deep-pink);padding:1rem 0;font-size:.9rem;}
    #loginCard{max-width:400px;margin:4rem auto;}
  </style>
</head>
<body>
  <header><h2>ðŸ’ž Pookieâ€™s Lovely Moments ðŸ’ž</h2></header>

  <!-- Login box -->
  <div id="loginCard" class="card">
    <h2>Login</h2>
    <input id="username" placeholder="Username"/>
    <input id="password" type="password" placeholder="Password"/>
    <button onclick="login()">Login ðŸ’•</button>
    <p id="loginMsg" style="color:var(--deep-pink)"></p>
  </div>

  <!-- Main content (hidden until login) -->
  <main id="app" style="display:none">
    <div class="card">
      <h2>Write Todayâ€™s Memory âœ¨</h2>
      <input type="date" id="date" />
      <textarea id="message" placeholder="Write something sweet... ðŸ’Œ"></textarea>
      <select id="mood">
        <option value="">Mood?</option>
        <option>ðŸ¥° Happy</option><option>ðŸ˜´ Sleepy</option>
        <option>ðŸ˜‡ Peaceful</option><option>ðŸ¤’ Not well</option><option>ðŸ¤© Excited</option>
      </select>
      <button id="saveBtn">Save Memory ðŸ’–</button>
    </div>
    <div class="card">
      <h2>Our Lovely Memories ðŸ§¸</h2>
      <div id="entries" class="entries"></div>
    </div>
  </main>

  <div class="footer">Made with ðŸ’— just for my favorite girl ðŸ’‹</div>

  <script>
    const API = "https://fourcare.onrender.com/memories";
    const allowedUsers = { pookie: "love123", you: "admin123" }; // ðŸ’– set usernames & passwords here
    let loggedIn = false;

    async function login(){
      const u=document.getElementById("username").value.trim();
      const p=document.getElementById("password").value.trim();
      if(allowedUsers[u] && allowedUsers[u]===p){
        loggedIn=true;
        document.getElementById("loginCard").style.display="none";
        document.getElementById("app").style.display="flex";
        loadMemories();
      } else {
        document.getElementById("loginMsg").textContent="Invalid login ðŸ’”";
      }
    }

    document.getElementById("saveBtn").addEventListener("click", async ()=>{
      if(!loggedIn)return alert("Please login first ðŸ’•");
      const date=document.getElementById("date").value||new Date().toISOString().slice(0,10);
      const text=document.getElementById("message").value.trim();
      const mood=document.getElementById("mood").value;
      if(!text)return alert("Write something first ðŸ’Œ");

      await fetch(API,{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({date,text,mood,images:[]})
      });
      document.getElementById("message").value="";
      document.getElementById("mood").value="";
      loadMemories();
    });

    async function loadMemories(){
      const res=await fetch(API);
      const data=await res.json();
      const entriesDiv=document.getElementById("entries");
      if(!data.length){ entriesDiv.innerHTML="<p>No lovely memories yet ðŸ’Œ</p>"; return;}
      entriesDiv.innerHTML=data.map(e=>`
        <div class="entry">
          <h4>${e.date||""} ${e.mood||""}</h4>
          <p>${e.text||""}</p>
        </div>`).join("");
    }
  </script>
</body>
</html>
